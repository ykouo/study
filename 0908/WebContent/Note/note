2021/09/08
[DB커넥션풀 == DBCP]
	▸ why 사용?? : DB연결성능 향상 
	디비의 두가지 이슈
	▸1 커넥션 : 앱과 DB의 연결 (ex> Connection , DriverManager)
			 DB에 접속하고 종료하는 일련의 동작과정
			-------------------------------------
			 서버입장에서 보면 여러명이 동시에 접속하여 이용 / 
			 그런데 종료하지 않고 나간다.. /
			 너무 많은사용자가 동시에 이용한다? 
			
			 --> 즉 , 너무 많은 연결로 시스템부하
			 --> 기업에서는 곧 비용손실 
			close()를 하지 않으면..? 
				--> 최대연결커넥션초과로 DB접속이 아예 불가능
			이런 문제를 최소화하기 위해 
			-------------------------------------
			클라이언트 서버랑 DB서버를 바로연결하지 않고 
			클라이언트에DB데이터를 저장해놓는 경우가 있다. 
			--> 데이터 일치를 위한 알고리즘, 보안 필요함!
			-------------------------------------	
		
	▸2 트랜잭션 : 여러 작업을 하나의 작업처럼 단위화 == 작업단위 
			 
				 
[DBCP]	
	:  일정한 	개수의 커넥션을 미리확보
		확보한 커넥션을 앱에 제공하는 서비스 
	▸ 이용순서 : 
	1) 웹어플리케이션 서버(톰캣)가 시작 --> 커넥션미리 생성
	2) 커넥션 객체를 요청이 들어왔을때 전달 (이때 , JNDI가 이용됨)
	
	▸ JNDI(Java Naming and Directory Interface)
		:어떤 과정이나 절차, 알고리즘 등을 캡슐화하여 처리 
		네이밍서비스? : 가상의 이름으로  자바객체, 서비스파일, 서버 등을 연결해줌 
	3) 사용하지 않는 커넥션 종료, 최소한의 커넥션을 유지 
	
	과거에는!! 커넥션풀이 서버 종속적이었다. 그래서 개발자가 직접 클래스를 구현하였다.
	--> 개발자가 퇴사하면 호환xxx, 성능보장이xxx, 변경하기가 너무 어렵..
	
	현재는!!! 톰캣에 DBCP내장됨 	
			DBCP: JDBC에서 제공하는 DataSource인터페이스를 활용
			JNDI를 통해 DataSource인터페이스를 제공받을 수 있음	
	
	[사용하려면!]		 
	1) 톰캣서버에 DataSource 등록
	2) server.xml(제발 건들지마...)	or	context.xml(실습에서는 이거 이용!)
		.xml 파일이 나오면 "설정" 해야한다라고 인식해라	 
		:DBCP 자원등록 설정 
	3) JNDI 연결할때 필요한 각종 설정 추가 
		 웹 어프리케이션에서 참조하는 각종 서버 리소스에 대한 설정을 변경해야함 
		 web.xml 
	